{"remainingRequest":"/home/mrchoi87/farmosV2/ui/node_modules/thread-loader/dist/cjs.js!/home/mrchoi87/farmosV2/ui/node_modules/babel-loader/lib/index.js!/home/mrchoi87/farmosV2/ui/node_modules/eslint-loader/index.js??ref--13-0!/home/mrchoi87/farmosV2/ui/src/main.js","dependencies":[{"path":"/home/mrchoi87/farmosV2/ui/src/main.js","mtime":1607499348989},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport _defineProperty from \"/home/mrchoi87/farmosV2/ui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"/home/mrchoi87/farmosV2/ui/node_modules/core-js/modules/es6.array.iterator.js\";\nimport \"/home/mrchoi87/farmosV2/ui/node_modules/core-js/modules/es6.promise.js\";\nimport \"/home/mrchoi87/farmosV2/ui/node_modules/core-js/modules/es6.object.assign.js\";\nimport \"/home/mrchoi87/farmosV2/ui/node_modules/core-js/modules/es7.promise.finally.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport App from '@/App.vue';\nimport router from '@/router';\nimport store from '@/store';\nimport { format, isDate, isValid, parse } from 'date-fns';\nimport ko from 'date-fns/locale/ko';\nimport VueLodash from 'vue-lodash';\nimport cloneDeep from 'lodash/cloneDeep';\nimport isNumber from 'lodash/isNumber';\nimport remove from 'lodash/remove';\nimport extend from 'lodash/extend';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport VueDaumPostcode from '@/components/DaumPost';\nimport BootstrapVue from 'bootstrap-vue';\nimport ElementUI from 'element-ui';\nimport Snotify from 'vue-snotify';\nimport Scrollspy from 'vue2-scrollspy';\nimport VueAwesomeSwiper from 'vue-awesome-swiper';\nimport locale from 'element-ui/lib/locale/lang/ko';\nimport { api } from '@/constants/config';\nimport mqtt from \"./mqttUi\";\nimport InfiniteSlideBar from 'vue-infinite-slide-bar';\nimport '@/assets/scripts';\nimport 'swiper/dist/css/swiper.css';\nVue.config.productionTip = false;\naxios.defaults.baseURL = api;\nvar axiosRefreshInstance = axios.create({\n  baseURL: api\n});\naxiosRefreshInstance.interceptors.request.use(function (config) {\n  var method = config.method.toUpperCase();\n\n  if (method !== 'OPTIONS' && method === 'POST') {\n    if (store.state.user.token) {\n      config.headers = _objectSpread(_objectSpread({}, config.headers), {}, {\n        'Authorization': 'Bearer ' + store.state.user.refreshToken\n      });\n    }\n  }\n\n  return config;\n});\naxios.interceptors.request.use(function (config) {\n  var method = config.method.toUpperCase();\n\n  if (method !== 'OPTIONS' && !config.url.startsWith('https://api.openweathermap.org')) {\n    if (store.state.user.token) {\n      config.headers = _objectSpread(_objectSpread({}, config.headers), {}, {\n        'Authorization': 'Bearer ' + store.state.user.token\n      });\n    }\n  }\n\n  return config;\n});\naxios.interceptors.response.use(null, function (error) {\n  if (error.response && error.response.config) {\n    if (error.response.status === 401) {\n      var retryConfig = error.response.config;\n\n      if (store.state.user.token && store.state.user.refreshToken) {\n        axiosRefreshInstance.post('user/login/refresh', {}).then(function (response) {\n          store.commit('user/refresh', {\n            token: response.data.token,\n            refreshToken: response.data.refreshToken\n          });\n          return axios.request(retryConfig);\n        }).catch(function (error) {\n          store.commit('user/unsetCurrentUser');\n          console.log(error);\n          return Promise.reject(error);\n        });\n      } else {\n        store.commit('user/unsetCurrentUser');\n        location.replace('/');\n        return Promise.reject(error);\n      }\n    } else if (error.response.status === 403) {\n      store.commit('user/unsetCurrentUser');\n      location.replace('/');\n      return Promise.reject(error);\n    } else {\n      return Promise.reject(error);\n    }\n  } else {\n    return Promise.reject(error);\n  }\n});\nVue.use(BootstrapVue);\nVue.use(VueAxios, axios);\nVue.use(VueLodash, {\n  lodash: {\n    cloneDeep: cloneDeep,\n    isNumber: isNumber,\n    remove: remove,\n    extend: extend\n  }\n});\nVue.use(Snotify);\nVue.use(Scrollspy);\nVue.use(ElementUI, {\n  locale: locale\n});\nVue.use(VueAwesomeSwiper\n/* { default global options } */\n);\nVue.component('VueDaumPostcode', VueDaumPostcode);\nVue.component('InfiniteSlideBar', InfiniteSlideBar);\nVue.mixin({\n  data: function data() {\n    return {\n      mqtt: mqtt\n    };\n  },\n  methods: {\n    $date: function $date() {\n      return {\n        format: format,\n        isDate: isDate,\n        isValid: isValid,\n        parse: parse,\n        ko: ko\n      };\n    }\n  }\n});\nVue.filter('digit', function (data) {\n  if (data) {\n    if (data.unit === '상태') {\n      return this.statusCode[data.nvalue];\n    } else {\n      var value = Math.pow(10, data.sigdigit);\n      return \"\".concat(Math.floor(data.nvalue * value) / value, \" \").concat(data.unit);\n    }\n  } else {\n    return '---';\n  }\n});\nnew Vue({\n  router: router,\n  store: store,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["/home/mrchoi87/farmosV2/ui/src/main.js"],"names":["Vue","App","router","store","format","isDate","isValid","parse","ko","VueLodash","cloneDeep","isNumber","remove","extend","axios","VueAxios","VueDaumPostcode","BootstrapVue","ElementUI","Snotify","Scrollspy","VueAwesomeSwiper","locale","api","mqtt","InfiniteSlideBar","config","productionTip","defaults","baseURL","axiosRefreshInstance","create","interceptors","request","use","method","toUpperCase","state","user","token","headers","refreshToken","url","startsWith","response","error","status","retryConfig","post","then","commit","data","catch","console","log","Promise","reject","location","replace","lodash","component","mixin","methods","$date","filter","unit","statusCode","nvalue","value","Math","pow","sigdigit","floor","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport App from '@/App.vue'\nimport router from '@/router'\nimport store from '@/store'\n\nimport { format, isDate, isValid, parse } from 'date-fns'\nimport ko from 'date-fns/locale/ko'\nimport VueLodash from 'vue-lodash'\nimport cloneDeep from 'lodash/cloneDeep'\nimport isNumber from 'lodash/isNumber'\nimport remove from 'lodash/remove'\nimport extend from 'lodash/extend'\n\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\n\nimport VueDaumPostcode from '@/components/DaumPost'\n\nimport BootstrapVue from 'bootstrap-vue'\nimport ElementUI from 'element-ui'\nimport Snotify from 'vue-snotify'\n\nimport Scrollspy from 'vue2-scrollspy'\n\nimport VueAwesomeSwiper from 'vue-awesome-swiper'\n\nimport locale from 'element-ui/lib/locale/lang/ko'\nimport { api } from '@/constants/config'\nimport mqtt from './mqttUi'\n\nimport InfiniteSlideBar from 'vue-infinite-slide-bar'\n\nimport '@/assets/scripts'\nimport 'swiper/dist/css/swiper.css'\n\nVue.config.productionTip = false\n\naxios.defaults.baseURL = api\nconst axiosRefreshInstance = axios.create({\n  baseURL: api\n})\n\naxiosRefreshInstance.interceptors.request.use(config => {\n  const method = config.method.toUpperCase()\n  if (method !== 'OPTIONS' && method === 'POST') {\n    if (store.state.user.token) {\n      config.headers = {\n        ...config.headers,\n        'Authorization': 'Bearer ' + store.state.user.refreshToken\n      }\n    }\n  }\n  return config\n})\n\naxios.interceptors.request.use(config => {\n  const method = config.method.toUpperCase()\n  if (method !== 'OPTIONS' && !config.url.startsWith('https://api.openweathermap.org')) {\n    if (store.state.user.token) {\n      config.headers = {\n        ...config.headers,\n        'Authorization': 'Bearer ' + store.state.user.token\n      }\n    }\n  }\n  return config\n})\n\naxios.interceptors.response.use(null, error => {\n  if (error.response && error.response.config) {\n    if (error.response.status === 401) {\n      const retryConfig = error.response.config\n      if (store.state.user.token && store.state.user.refreshToken) {\n        axiosRefreshInstance.post('user/login/refresh', {})\n          .then(response => {\n            store.commit('user/refresh', { token: response.data.token, refreshToken: response.data.refreshToken })\n            return axios.request(retryConfig)\n          }).catch(error => {\n            store.commit('user/unsetCurrentUser')\n            console.log(error)\n            return Promise.reject(error)\n          })\n      } else {\n        store.commit('user/unsetCurrentUser')\n        location.replace('/')\n        return Promise.reject(error)\n      }\n    } else if (error.response.status === 403) {\n      store.commit('user/unsetCurrentUser')\n      location.replace('/')\n      return Promise.reject(error)\n    } else {\n      return Promise.reject(error)\n    }\n  } else {\n    return Promise.reject(error)\n  }\n})\n\nVue.use(BootstrapVue)\nVue.use(VueAxios, axios)\nVue.use(VueLodash, { lodash: { cloneDeep, isNumber, remove, extend } })\nVue.use(Snotify)\nVue.use(Scrollspy)\n\nVue.use(ElementUI, { locale })\nVue.use(VueAwesomeSwiper /* { default global options } */)\n\nVue.component('VueDaumPostcode', VueDaumPostcode)\nVue.component('InfiniteSlideBar', InfiniteSlideBar)\n\nVue.mixin({\n  data: function () {\n    return {\n      mqtt\n    }\n  },\n  methods: {\n    $date: () => {\n      return {\n        format,\n        isDate,\n        isValid,\n        parse,\n        ko\n      }\n    }\n  }\n})\n\nVue.filter('digit', function (data) {\n  if (data) {\n    if (data.unit === '상태') {\n      return this.statusCode[data.nvalue]\n    } else {\n      const value = Math.pow(10, data.sigdigit)\n      return `${Math.floor(data.nvalue * value) / value} ${data.unit}`\n    }\n  } else {\n    return '---'\n  }\n})\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n"]}]}