{"remainingRequest":"/home/mrchoi87/farmosV2/ui/node_modules/thread-loader/dist/cjs.js!/home/mrchoi87/farmosV2/ui/node_modules/babel-loader/lib/index.js!/home/mrchoi87/farmosV2/ui/node_modules/eslint-loader/index.js??ref--13-0!/home/mrchoi87/farmosV2/ui/src/store/modules/observation.js","dependencies":[{"path":"/home/mrchoi87/farmosV2/ui/src/store/modules/observation.js","mtime":1607499348989},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/mrchoi87/farmosV2/ui/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport Vue from 'vue';\nvar observationInterval = null;\nvar state = {\n  items: {}\n};\nvar getters = {\n  getObservations: function getObservations(state) {\n    return state.items;\n  }\n};\nvar actions = {\n  fetchDataObservations: function () {\n    var _fetchDataObservations = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var dispatch, commit, _yield$Vue$axios$get, data;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch = _ref.dispatch, commit = _ref.commit;\n              clearInterval(observationInterval);\n              observationInterval = setInterval(function () {\n                dispatch('fetchDataObservations');\n              }, 60000);\n              _context.prev = 3;\n              _context.next = 6;\n              return Vue.axios.get('farm/observation');\n\n            case 6:\n              _yield$Vue$axios$get = _context.sent;\n              data = _yield$Vue$axios$get.data;\n              commit('setObservations', data);\n              _context.next = 13;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    function fetchDataObservations(_x) {\n      return _fetchDataObservations.apply(this, arguments);\n    }\n\n    return fetchDataObservations;\n  }()\n};\nvar mutations = {\n  setObservationObs: function setObservationObs(state, items) {\n    for (var id in items) {\n      try {\n        if (id !== 'time') {\n          // 상태\n          var dataId = 1 * 10000000 + id * 100;\n          console.log(dataId);\n          state.items[dataId].nvalue = items[id][1]; // 관측치\n\n          dataId += 1;\n          console.log(dataId);\n          state.items[dataId].nvalue = items[id][0];\n        }\n      } catch (error) {\n        console.log('없는 데이터 아이디');\n      }\n    }\n  },\n  setObservationNoti: function setObservationNoti(state, items) {\n    for (var id in items) {\n      try {\n        if (id !== 'code' && id !== 'time') {\n          var dataId = 1 * 10000000 + id * 100;\n\n          if (items[id].hasOwnProperty('status')) {\n            state.items[dataId].nvalue = items[id]['status'];\n          }\n\n          if (items[id].hasOwnProperty('value')) {\n            state.items[dataId + 1].nvalue = items[id]['value'];\n          }\n\n          if (items[id].hasOwnProperty('position')) {\n            state.items[dataId + 2].nvalue = items[id]['position'];\n          }\n\n          if (items[id].hasOwnProperty('state-hold-time')) {\n            state.items[dataId + 3].nvalue = items[id]['state-hold-time'];\n          }\n\n          if (items[id].hasOwnProperty('remain-time')) {\n            state.items[dataId + 4].nvalue = items[id]['remain-time'];\n          }\n\n          if (items[id].hasOwnProperty('ratio')) {\n            state.items[dataId + 5].nvalue = items[id]['ratio'];\n          }\n\n          if (items[id].hasOwnProperty('control')) {\n            state.items[dataId + 6].nvalue = items[id]['control'];\n          }\n\n          if (items[id].hasOwnProperty('area')) {\n            state.items[dataId + 7].nvalue = items[id]['area'];\n          }\n\n          if (items[id].hasOwnProperty('alert')) {\n            state.items[dataId + 8].nvalue = items[id]['alert'];\n          }\n        }\n      } catch (error) {\n        console.log('없는 데이터 아이디');\n      }\n    }\n  },\n  setObservations: function setObservations(state, items) {\n    for (var key in items) {\n      if (items.hasOwnProperty(key)) {\n        var obs = items[key];\n\n        if (!state.items.hasOwnProperty(key)) {\n          Vue.set(state.items, key, {});\n        }\n\n        for (var key2 in obs) {\n          if (obs.hasOwnProperty(key2)) {\n            Vue.set(state.items[key], key2, obs[key2]);\n          }\n        }\n      }\n    } // state.items = items\n\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["/home/mrchoi87/farmosV2/ui/src/store/modules/observation.js"],"names":["Vue","observationInterval","state","items","getters","getObservations","actions","fetchDataObservations","dispatch","commit","clearInterval","setInterval","axios","get","data","mutations","setObservationObs","id","dataId","console","log","nvalue","error","setObservationNoti","hasOwnProperty","setObservations","key","obs","set","key2","namespaced"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\n\r\nlet observationInterval = null\r\n\r\nconst state = {\r\n  items: {}\r\n\r\n}\r\n\r\nconst getters = {\r\n  getObservations (state) {\r\n    return state.items\r\n  }\r\n\r\n}\r\n\r\nconst actions = {\r\n  fetchDataObservations: async ({ dispatch, commit }) => {\r\n    clearInterval(observationInterval)\r\n    observationInterval = setInterval(function () {\r\n      dispatch('fetchDataObservations')\r\n    }, 60000)\r\n    try {\r\n      const { data } = await Vue.axios.get('farm/observation')\r\n      commit('setObservations', data)\r\n    } catch (error) { }\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  setObservationObs (state, items) {\r\n    for (const id in items) {\r\n      try {\r\n        if (id !== 'time') {\r\n          // 상태\r\n          let dataId = (1 * 10000000) + (id * 100)\r\n          console.log(dataId)\r\n          state.items[dataId].nvalue = items[id][1]\r\n\r\n          // 관측치\r\n          dataId += 1\r\n          console.log(dataId)\r\n          state.items[dataId].nvalue = items[id][0]\r\n        }\r\n      } catch (error) {\r\n        console.log('없는 데이터 아이디')\r\n      }\r\n    }\r\n  },\r\n  setObservationNoti (state, items) {\r\n    for (let id in items) {\r\n      try {\r\n        if (id !== 'code' && id !== 'time') {\r\n          let dataId = (1 * 10000000) + (id * 100)\r\n          if (items[id].hasOwnProperty('status')) {\r\n            state.items[dataId].nvalue = items[id]['status']\r\n          }\r\n          if (items[id].hasOwnProperty('value')) {\r\n            state.items[dataId + 1].nvalue = items[id]['value']\r\n          }\r\n          if (items[id].hasOwnProperty('position')) {\r\n            state.items[dataId + 2].nvalue = items[id]['position']\r\n          }\r\n          if (items[id].hasOwnProperty('state-hold-time')) {\r\n            state.items[dataId + 3].nvalue = items[id]['state-hold-time']\r\n          }\r\n          if (items[id].hasOwnProperty('remain-time')) {\r\n            state.items[dataId + 4].nvalue = items[id]['remain-time']\r\n          }\r\n          if (items[id].hasOwnProperty('ratio')) {\r\n            state.items[dataId + 5].nvalue = items[id]['ratio']\r\n          }\r\n          if (items[id].hasOwnProperty('control')) {\r\n            state.items[dataId + 6].nvalue = items[id]['control']\r\n          }\r\n          if (items[id].hasOwnProperty('area')) {\r\n            state.items[dataId + 7].nvalue = items[id]['area']\r\n          }\r\n          if (items[id].hasOwnProperty('alert')) {\r\n            state.items[dataId + 8].nvalue = items[id]['alert']\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log('없는 데이터 아이디')\r\n      }\r\n    }\r\n  },\r\n  setObservations (state, items) {\r\n    for (const key in items) {\r\n      if (items.hasOwnProperty(key)) {\r\n        const obs = items[key]\r\n        if (!state.items.hasOwnProperty(key)) {\r\n          Vue.set(state.items, key, {})\r\n        }\r\n        for (const key2 in obs) {\r\n          if (obs.hasOwnProperty(key2)) {\r\n            Vue.set(state.items[key], key2, obs[key2])\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // state.items = items\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n"]}]}