{"remainingRequest":"/home/mrchoi87/farmosV2/ui/node_modules/thread-loader/dist/cjs.js!/home/mrchoi87/farmosV2/ui/node_modules/babel-loader/lib/index.js!/home/mrchoi87/farmosV2/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mrchoi87/farmosV2/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mrchoi87/farmosV2/ui/src/views/app/page/device/searchDevice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mrchoi87/farmosV2/ui/src/views/app/page/device/searchDevice.vue","mtime":1607499348989},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _toConsumableArray from \"/home/mrchoi87/farmosV2/ui/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/mrchoi87/farmosV2/ui/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/mrchoi87/farmosV2/ui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport newDeviceTree from '@/components/newDeviceTree';\nimport SearchLoading from '@/components/SearchLoading';\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  components: {\n    newDeviceTree: newDeviceTree,\n    SearchLoading: SearchLoading\n  },\n  data: function data() {\n    return {\n      detectDevice: {},\n      msg: '장비 검색중 입니다.<br>[1.브라우저 종료 2.사이트 갱신 3.타 사이트 접속] 검색이 취소 됩니다.<br>'\n    };\n  },\n  watch: {\n    'getTryReq.deviceSearch': function getTryReqDeviceSearch(newValue, oldValue) {\n      this.progressSet();\n    },\n    'getTryReq.progress': function getTryReqProgress(newValue, oldValue) {\n      this.progressSet();\n    },\n    getDeviceItemComplate: function getDeviceItemComplate(newValue, oldValue) {\n      this.detectDevice = newValue;\n      this.fetchDataCvtgate();\n    }\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters({\n    getFields: 'field/getFields',\n    getTryReq: 'mqtt/getTryReq',\n    getDeviceItems: 'mqtt/getDeviceItems',\n    getDeviceItemComplate: 'mqtt/getDeviceItemComplate',\n    cvtgateInfo: 'cvtgate/getCvtgate'\n  })), {}, {\n    isSelectedAll: function isSelectedAll() {\n      return this.selectedItems.length >= this.items.length;\n    },\n    isAnyItemSelected: function isAnyItemSelected() {\n      return this.selectedItems.length > 0 && this.selectedItems.length < this.items.length;\n    },\n    getFieldName: function getFieldName() {\n      var name = '';\n      /* for (const field of this.getFields) {\r\n        if (field.id == this.currentField) {\r\n          name = field.name\r\n        }\r\n      } */\n\n      return name;\n    }\n  }),\n  mounted: function mounted() {\n    if (!this.getTryReq.deviceSearch && this.getTryReq.progress === 2) {\n      this.detectDevice = JSON.parse(this.cvtgateInfo.detect);\n      this.$store.commit('mqtt/setTryReq', [false, 0]);\n    }\n\n    this.progressSet();\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions({\n    fetchDataCvtgate: 'cvtgate/fetchDataCvtgate'\n  })), {}, {\n    save: function () {\n      var _save = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                result = this.$refs.deviceTree.getCheckNode();\n                result.forEach(function (element) {\n                  delete element.children;\n                });\n                _context.next = 5;\n                return this.axios.post('device', result);\n\n              case 5:\n                this.$snotify.success('장비 등록이 완료 되었습니다');\n                this.$store.commit('mqtt/setTryReq', [false, 0]);\n                this.$router.push(\"/device\");\n                this.$store.dispatch('device/fetchDataDevice');\n                this.$store.dispatch('observation/fetchDataObservations');\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n\n      function save() {\n        return _save.apply(this, arguments);\n      }\n\n      return save;\n    }(),\n    progressSet: function () {\n      var _progressSet = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(this.getTryReq.deviceSearch && this.getTryReq.progress < 2)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.$refs.loadingView.startLoading();\n                _context2.next = 18;\n                break;\n\n              case 4:\n                if (!(this.getTryReq.deviceSearch && this.getTryReq.progress === 2)) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                this.$snotify.success('장비 검색이 완료 되었습니다.');\n                this.$refs.loadingView.stopLoading();\n                _context2.prev = 7;\n                _context2.next = 10;\n                return this.axios.put('gateinfo/detect', this.getDeviceItemComplate);\n\n              case 10:\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](7);\n                console.log(_context2.t0);\n\n              case 15:\n                _context2.next = 18;\n                break;\n\n              case 17:\n                this.$refs.loadingView.stopLoading();\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 12]]);\n      }));\n\n      function progressSet() {\n        return _progressSet.apply(this, arguments);\n      }\n\n      return progressSet;\n    }(),\n    searchCancel: function searchCancel() {\n      this.mqtt.deivceSearchCancel();\n    },\n    searchClear: function searchClear() {\n      this.$store.commit('mqtt/clearDeviceItem');\n      this.$store.commit('mqtt/setTryReq', [false, 0]);\n    },\n    clickSearch: function clickSearch() {\n      this.mqtt.deivceSearch();\n    },\n    clickDetect: function clickDetect() {\n      this.detectDevice = JSON.parse(this.cvtgateInfo.detect);\n      this.$store.commit('mqtt/setTryReq', [false, 2]);\n    },\n    clickFieldModify: function clickFieldModify(field) {\n      // this.$router.push(`/device/field/${field}`)\n      this.mqtt.deivceSearch();\n    },\n    toggleItem: function toggleItem(event, itemId) {\n      if (event.shiftKey && this.selectedItems.length > 0) {\n        var _this$selectedItems;\n\n        var itemsForToggle = this.items;\n        var start = this.getIndex(itemId, itemsForToggle, 'id');\n        var end = this.getIndex(this.selectedItems[this.selectedItems.length - 1], itemsForToggle, 'id');\n        itemsForToggle = itemsForToggle.slice(Math.min(start, end), Math.max(start, end) + 1);\n\n        (_this$selectedItems = this.selectedItems).push.apply(_this$selectedItems, _toConsumableArray(itemsForToggle.map(function (item) {\n          return item.id;\n        })));\n      } else {\n        if (this.selectedItems.includes(itemId)) {\n          this.selectedItems = this.selectedItems.filter(function (x) {\n            return x !== itemId;\n          });\n        } else this.selectedItems.push(itemId);\n      }\n    },\n    keymap: function keymap(event) {\n      switch (event.srcKey) {\n        case 'select':\n          this.selectAll(false);\n          break;\n\n        case 'undo':\n          this.selectedItems = [];\n          break;\n      }\n    },\n    selectAll: function selectAll(isToggle) {\n      if (this.selectedItems.length >= this.items.length) {\n        if (isToggle) this.selectedItems = [];\n      } else {\n        this.selectedItems = this.items.map(function (x) {\n          return x.id;\n        });\n      }\n    },\n    successButtonClick: function successButtonClick() {\n      // eslint-disable-next-line promise/param-names\n      return new Promise(function (success, fail) {\n        setTimeout(function () {\n          success('장비검색 전송');\n        }, 2000);\n      });\n    }\n  })\n};",{"version":3,"sources":["searchDevice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA,OAAA,aAAA,MAAA,4BAAA;AACA,OAAA,aAAA,MAAA,4BAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA,aADA;AAEA,IAAA,aAAA,EAAA;AAFA,GADA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,GAAA,EACA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,KAAA,EAAA;AACA,4BADA,iCACA,QADA,EACA,QADA,EACA;AACA,WAAA,WAAA;AACA,KAHA;AAIA,wBAJA,6BAIA,QAJA,EAIA,QAJA,EAIA;AACA,WAAA,WAAA;AACA,KANA;AAOA,IAAA,qBAPA,iCAOA,QAPA,EAOA,QAPA,EAOA;AACA,WAAA,YAAA,GAAA,QAAA;AACA,WAAA,gBAAA;AACA;AAVA,GAZA;AAwBA,EAAA,QAAA,kCACA,UAAA,CAAA;AACA,IAAA,SAAA,EAAA,iBADA;AAEA,IAAA,SAAA,EAAA,gBAFA;AAGA,IAAA,cAAA,EAAA,qBAHA;AAIA,IAAA,qBAAA,EAAA,4BAJA;AAKA,IAAA,WAAA,EAAA;AALA,GAAA,CADA;AAQA,IAAA,aARA,2BAQA;AACA,aAAA,KAAA,aAAA,CAAA,MAAA,IAAA,KAAA,KAAA,CAAA,MAAA;AACA,KAVA;AAWA,IAAA,iBAXA,+BAWA;AACA,aACA,KAAA,aAAA,CAAA,MAAA,GAAA,CAAA,IACA,KAAA,aAAA,CAAA,MAAA,GAAA,KAAA,KAAA,CAAA,MAFA;AAIA,KAhBA;AAiBA,IAAA,YAjBA,0BAiBA;AACA,UAAA,IAAA,GAAA,EAAA;AACA;AACA;AACA;AACA;AACA;;AACA,aAAA,IAAA;AACA;AAzBA,IAxBA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,QAAA,CAAA,KAAA,SAAA,CAAA,YAAA,IAAA,KAAA,SAAA,CAAA,QAAA,KAAA,CAAA,EAAA;AACA,WAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,WAAA,CAAA,MAAA,CAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AACA;;AACA,SAAA,WAAA;AACA,GAzDA;AA0DA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,gBAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,IAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,gBAAA,MANA,GAMA,KAAA,KAAA,CAAA,UAAA,CAAA,YAAA,EANA;AAQA,gBAAA,MAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,yBAAA,OAAA,CAAA,QAAA;AACA,iBAFA;AARA;AAAA,uBAWA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,MAAA,CAXA;;AAAA;AAYA,qBAAA,QAAA,CAAA,OAAA,CAAA,iBAAA;AACA,qBAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AACA,qBAAA,OAAA,CAAA,IAAA;AACA,qBAAA,MAAA,CAAA,QAAA,CAAA,wBAAA;AACA,qBAAA,MAAA,CAAA,QAAA,CAAA,mCAAA;AAhBA;AAAA;;AAAA;AAAA;AAAA;AAkBA,gBAAA,OAAA,CAAA,GAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAqBA,IAAA,WArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAsBA,KAAA,SAAA,CAAA,YAAA,IAAA,KAAA,SAAA,CAAA,QAAA,GAAA,CAtBA;AAAA;AAAA;AAAA;;AAuBA,qBAAA,KAAA,CAAA,WAAA,CAAA,YAAA;AAvBA;AAAA;;AAAA;AAAA,sBAwBA,KAAA,SAAA,CAAA,YAAA,IAAA,KAAA,SAAA,CAAA,QAAA,KAAA,CAxBA;AAAA;AAAA;AAAA;;AAyBA,qBAAA,QAAA,CAAA,OAAA,CAAA,kBAAA;AACA,qBAAA,KAAA,CAAA,WAAA,CAAA,WAAA;AA1BA;AAAA;AAAA,uBA4BA,KAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAAA,qBAAA,CA5BA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA8BA,gBAAA,OAAA,CAAA,GAAA;;AA9BA;AAAA;AAAA;;AAAA;AAiCA,qBAAA,KAAA,CAAA,WAAA,CAAA,WAAA;;AAjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAoCA,IAAA,YApCA,0BAoCA;AACA,WAAA,IAAA,CAAA,kBAAA;AACA,KAtCA;AAuCA,IAAA,WAvCA,yBAuCA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,sBAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AACA,KA1CA;AA2CA,IAAA,WA3CA,yBA2CA;AACA,WAAA,IAAA,CAAA,YAAA;AACA,KA7CA;AA8CA,IAAA,WA9CA,yBA8CA;AACA,WAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,WAAA,CAAA,MAAA,CAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AACA,KAjDA;AAkDA,IAAA,gBAlDA,4BAkDA,KAlDA,EAkDA;AACA;AACA,WAAA,IAAA,CAAA,YAAA;AACA,KArDA;AAsDA,IAAA,UAtDA,sBAsDA,KAtDA,EAsDA,MAtDA,EAsDA;AACA,UAAA,KAAA,CAAA,QAAA,IAAA,KAAA,aAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AAAA;;AACA,YAAA,cAAA,GAAA,KAAA,KAAA;AACA,YAAA,KAAA,GAAA,KAAA,QAAA,CAAA,MAAA,EAAA,cAAA,EAAA,IAAA,CAAA;AACA,YAAA,GAAA,GAAA,KAAA,QAAA,CACA,KAAA,aAAA,CAAA,KAAA,aAAA,CAAA,MAAA,GAAA,CAAA,CADA,EAEA,cAFA,EAGA,IAHA,CAAA;AAKA,QAAA,cAAA,GAAA,cAAA,CAAA,KAAA,CACA,IAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA,CADA,EAEA,IAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA,IAAA,CAFA,CAAA;;AAIA,oCAAA,aAAA,EAAA,IAAA,+CACA,cAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,iBAAA,IAAA,CAAA,EAAA;AACA,SAFA,CADA;AAKA,OAjBA,MAiBA;AACA,YAAA,KAAA,aAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,eAAA,aAAA,GAAA,KAAA,aAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,mBAAA,CAAA,KAAA,MAAA;AAAA,WAAA,CAAA;AACA,SAFA,MAEA,KAAA,aAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA,KA7EA;AA8EA,IAAA,MA9EA,kBA8EA,KA9EA,EA8EA;AACA,cAAA,KAAA,CAAA,MAAA;AACA,aAAA,QAAA;AACA,eAAA,SAAA,CAAA,KAAA;AACA;;AACA,aAAA,MAAA;AACA,eAAA,aAAA,GAAA,EAAA;AACA;AANA;AAQA,KAvFA;AAwFA,IAAA,SAxFA,qBAwFA,QAxFA,EAwFA;AACA,UAAA,KAAA,aAAA,CAAA,MAAA,IAAA,KAAA,KAAA,CAAA,MAAA,EAAA;AACA,YAAA,QAAA,EAAA,KAAA,aAAA,GAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA,GAAA,KAAA,KAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,EAAA;AAAA,SAAA,CAAA;AACA;AACA,KA9FA;AA+FA,IAAA,kBA/FA,gCA+FA;AACA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,IAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,CAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA,OAJA,CAAA;AAKA;AAtGA;AA1DA,CAAA","sourcesContent":["<template>\r\n  <!-- <div class=\"col-xxs-12\" style=\"height: calc(100vh - 166px);\"> -->\r\n  <div class=\"col-xxs-12\" style=\"padding:15px\">\r\n    <!-- <h4 class=\"c-grey-900\" style=\"z-index: 10;position: relative;\">장비 검색</h4> -->\r\n\r\n    <div>\r\n      <SearchLoading ref=\"loadingView\" @cancel=\"searchCancel\" :msg=\"msg\"></SearchLoading>\r\n    </div>\r\n\r\n    <el-steps\r\n      :active=\"getTryReq.progress\"\r\n      finish-status=\"success\"\r\n      simple\r\n      style=\"margin-top: 20px;z-index: 10;position: relative;\"\r\n    >\r\n      <el-step title=\"명령 전송\"></el-step>\r\n      <el-step title=\"검색 중\"></el-step>\r\n      <el-step title=\"검색 완료\"></el-step>\r\n    </el-steps>\r\n\r\n    <b-row>\r\n      <b-col xxs=\"12\">\r\n        <template v-if=\"getTryReq.progress === 0\">\r\n          <b-row>\r\n            <b-col lg=\"7\">\r\n              <div class=\"containerSearch\">\r\n                <section class=\"card\">\r\n                  <div class=\"card_inner\">\r\n                    <!-- <div class=\"card_inner__circle\">\r\n                      <img src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/217233/cog.png\" />\r\n                    </div>\r\n                    <div class=\"card_inner__header\"></div>-->\r\n                    <div class=\"card_inner__content\">\r\n                      <div class=\"price\">새 장비 검색</div>\r\n                      <div class=\"text\">\r\n                        <br />\r\n                        <br />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"card_inner__cta\">\r\n                      <div class=\"play-button-container\">\r\n                        <div class=\"play-button\" @click=\"clickSearch\">\r\n                          <div class=\"el-icon-caret-right\" style=\"font-size: 40px;\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n              </div>\r\n            </b-col>\r\n            <b-col lg=\"5\">\r\n              <div class=\"containerSearch\">\r\n                <section class=\"card\">\r\n                  <div class=\"card_inner\">\r\n                    <!-- <div class=\"card_inner__circle\">\r\n                      <img src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/217233/cog.png\" />\r\n                    </div>\r\n                    <div class=\"card_inner__header\"></div>-->\r\n                    <div class=\"card_inner__content\">\r\n                      <div class=\"price\">기존 데이터</div>\r\n                      <div class=\"text\">\r\n                        <br />\r\n                        <br />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"card_inner__cta\">\r\n                      <div class=\"play-button-container\">\r\n                        <div class=\"play-button\" @click=\"clickDetect\">\r\n                          <div class=\"el-icon-caret-right\" style=\"font-size: 40px;\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </template>\r\n        <template v-else-if=\"getTryReq.progress === 1\">\r\n          <b-row>\r\n            <template v-for=\"(item,idx) in getDeviceItems\">\r\n              <b-col lg=\"3\" :key=\"idx\" class=\"mt-5\">\r\n                <b-card class=\"ta-c\">\r\n                  <h2>검색된 장비</h2>\r\n                  <h3>No. {{idx+1}}번</h3>\r\n                </b-card>\r\n              </b-col>\r\n            </template>\r\n          </b-row>\r\n        </template>\r\n        <template v-else-if=\"this.getTryReq.progress === 2\">\r\n          <b-card-body>\r\n            <div>\r\n              <b-row class=\"mb-2\">\r\n                <b-col xxs=\"12\" class=\"p-0\">\r\n                  <div class=\"d-flex\">\r\n                    <div class>\r\n                      <div class=\"d-inline-block\">\r\n                        <h5 class>장비 리스트</h5>\r\n                        <span class=\"text-muted text-small d-block\">검색된 장비</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"ml-auto align-self-center\">\r\n                      <el-button @click=\"searchClear\">취소</el-button>\r\n                      <el-button @click=\"save\">저장</el-button>\r\n                    </div>\r\n                  </div>\r\n                </b-col>\r\n              </b-row>\r\n              <b-row>\r\n                <b-col xxs=\"12\" class=\"p-0\">\r\n                  <newDeviceTree :devices=\"detectDevice\" ref=\"deviceTree\" />\r\n                </b-col>\r\n              </b-row>\r\n            </div>\r\n          </b-card-body>\r\n        </template>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport newDeviceTree from '@/components/newDeviceTree'\r\nimport SearchLoading from '@/components/SearchLoading'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nexport default {\r\n  components: {\r\n    newDeviceTree,\r\n    SearchLoading\r\n  },\r\n  data: function () {\r\n    return {\r\n      detectDevice: {},\r\n      msg:\r\n        '장비 검색중 입니다.<br>[1.브라우저 종료 2.사이트 갱신 3.타 사이트 접속] 검색이 취소 됩니다.<br>'\r\n    }\r\n  },\r\n  watch: {\r\n    'getTryReq.deviceSearch' (newValue, oldValue) {\r\n      this.progressSet()\r\n    },\r\n    'getTryReq.progress' (newValue, oldValue) {\r\n      this.progressSet()\r\n    },\r\n    getDeviceItemComplate (newValue, oldValue) {\r\n      this.detectDevice = newValue\r\n      this.fetchDataCvtgate()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getFields: 'field/getFields',\r\n      getTryReq: 'mqtt/getTryReq',\r\n      getDeviceItems: 'mqtt/getDeviceItems',\r\n      getDeviceItemComplate: 'mqtt/getDeviceItemComplate',\r\n      cvtgateInfo: 'cvtgate/getCvtgate'\r\n    }),\r\n    isSelectedAll () {\r\n      return this.selectedItems.length >= this.items.length\r\n    },\r\n    isAnyItemSelected () {\r\n      return (\r\n        this.selectedItems.length > 0 &&\r\n        this.selectedItems.length < this.items.length\r\n      )\r\n    },\r\n    getFieldName () {\r\n      let name = ''\r\n      /* for (const field of this.getFields) {\r\n        if (field.id == this.currentField) {\r\n          name = field.name\r\n        }\r\n      } */\r\n      return name\r\n    }\r\n  },\r\n  mounted () {\r\n    if (!this.getTryReq.deviceSearch && this.getTryReq.progress === 2) {\r\n      this.detectDevice = JSON.parse(this.cvtgateInfo.detect)\r\n      this.$store.commit('mqtt/setTryReq', [false, 0])\r\n    }\r\n    this.progressSet()\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      fetchDataCvtgate: 'cvtgate/fetchDataCvtgate'\r\n    }),\r\n    async save () {\r\n      try {\r\n        let result = this.$refs.deviceTree.getCheckNode()\r\n\r\n        result.forEach(element => {\r\n          delete element.children\r\n        })\r\n        await this.axios.post('device', result)\r\n        this.$snotify.success('장비 등록이 완료 되었습니다')\r\n        this.$store.commit('mqtt/setTryReq', [false, 0])\r\n        this.$router.push(`/device`)\r\n        this.$store.dispatch('device/fetchDataDevice')\r\n        this.$store.dispatch('observation/fetchDataObservations')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    async progressSet () {\r\n      if (this.getTryReq.deviceSearch && this.getTryReq.progress < 2) {\r\n        this.$refs.loadingView.startLoading()\r\n      } else if (this.getTryReq.deviceSearch && this.getTryReq.progress === 2) {\r\n        this.$snotify.success('장비 검색이 완료 되었습니다.')\r\n        this.$refs.loadingView.stopLoading()\r\n        try {\r\n          await this.axios.put('gateinfo/detect', this.getDeviceItemComplate)\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      } else {\r\n        this.$refs.loadingView.stopLoading()\r\n      }\r\n    },\r\n    searchCancel () {\r\n      this.mqtt.deivceSearchCancel()\r\n    },\r\n    searchClear () {\r\n      this.$store.commit('mqtt/clearDeviceItem')\r\n      this.$store.commit('mqtt/setTryReq', [false, 0])\r\n    },\r\n    clickSearch () {\r\n      this.mqtt.deivceSearch()\r\n    },\r\n    clickDetect () {\r\n      this.detectDevice = JSON.parse(this.cvtgateInfo.detect)\r\n      this.$store.commit('mqtt/setTryReq', [false, 2])\r\n    },\r\n    clickFieldModify (field) {\r\n      // this.$router.push(`/device/field/${field}`)\r\n      this.mqtt.deivceSearch()\r\n    },\r\n    toggleItem (event, itemId) {\r\n      if (event.shiftKey && this.selectedItems.length > 0) {\r\n        let itemsForToggle = this.items\r\n        var start = this.getIndex(itemId, itemsForToggle, 'id')\r\n        var end = this.getIndex(\r\n          this.selectedItems[this.selectedItems.length - 1],\r\n          itemsForToggle,\r\n          'id'\r\n        )\r\n        itemsForToggle = itemsForToggle.slice(\r\n          Math.min(start, end),\r\n          Math.max(start, end) + 1\r\n        )\r\n        this.selectedItems.push(\r\n          ...itemsForToggle.map(item => {\r\n            return item.id\r\n          })\r\n        )\r\n      } else {\r\n        if (this.selectedItems.includes(itemId)) {\r\n          this.selectedItems = this.selectedItems.filter(x => x !== itemId)\r\n        } else this.selectedItems.push(itemId)\r\n      }\r\n    },\r\n    keymap (event) {\r\n      switch (event.srcKey) {\r\n        case 'select':\r\n          this.selectAll(false)\r\n          break\r\n        case 'undo':\r\n          this.selectedItems = []\r\n          break\r\n      }\r\n    },\r\n    selectAll (isToggle) {\r\n      if (this.selectedItems.length >= this.items.length) {\r\n        if (isToggle) this.selectedItems = []\r\n      } else {\r\n        this.selectedItems = this.items.map(x => x.id)\r\n      }\r\n    },\r\n    successButtonClick () {\r\n      // eslint-disable-next-line promise/param-names\r\n      return new Promise((success, fail) => {\r\n        setTimeout(() => {\r\n          success('장비검색 전송')\r\n        }, 2000)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.containerSearch {\r\n  margin-top: 60px;\r\n}\r\n\r\n.containerSearch .card {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  display: inline-block;\r\n  -webkit-transform: scale(0);\r\n  transform: scale(0);\r\n  text-align: center;\r\n  position: relative;\r\n  transition: all 0.2s;\r\n  cursor: pointer;\r\n  opacity: 1;\r\n  box-shadow: 0px 17px 46px -10px #777777;\r\n  height: 470px;\r\n  border-radius: 14px;\r\n}\r\n.containerSearch .card:nth-of-type(1) {\r\n  -webkit-animation: intro 1s 0.2s forwards;\r\n  animation: intro 1s 0.2s forwards;\r\n}\r\n.containerSearch .card:nth-of-type(1) {\r\n  background: -webkit-linear-gradient(45deg, #89bfdf 0%, #6b6ecc 100%);\r\n}\r\n\r\n.containerSearch .card:hover .card_inner__header img {\r\n  left: -50px;\r\n  transition: all 3.4s linear;\r\n}\r\n.containerSearch .card:hover .card_inner__cta button {\r\n  -webkit-transform: scale(1);\r\n  transform: scale(1);\r\n}\r\n\r\n.containerSearch .card:nth-of-type(1):hover .card_inner__circle img {\r\n  -webkit-animation: spin 1s forwards;\r\n  animation: spin 1s forwards;\r\n}\r\n.containerSearch .card:nth-of-type(1) .card_inner__circle img {\r\n  top: 22px;\r\n}\r\n\r\n.containerSearch .card_inner__circle {\r\n  overflow: hidden;\r\n  width: 70px;\r\n  position: absolute;\r\n  background: #f1f0ed;\r\n  z-index: 10;\r\n  height: 70px;\r\n  border-radius: 100px;\r\n  left: 0;\r\n  box-shadow: 0px 7px 20px rgba(0, 0, 0, 0.28);\r\n  right: 0;\r\n  margin: auto;\r\n  border: 4px solid white;\r\n  top: 82px;\r\n}\r\n.containerSearch .card_inner__circle img {\r\n  height: 26px;\r\n  position: relative;\r\n  top: 17px;\r\n  transition: all 0.2s;\r\n}\r\n.containerSearch .card_inner__header {\r\n  height: 120px;\r\n  border-top-left-radius: 14px;\r\n  border-top-right-radius: 14px;\r\n  overflow: hidden;\r\n}\r\n.containerSearch .card_inner__header img {\r\n  width: 120%;\r\n  position: relative;\r\n  top: -30px;\r\n  left: 0;\r\n  transition: all 0.1s linear;\r\n}\r\n.containerSearch .card_inner__content {\r\n  padding: 20px;\r\n}\r\n.containerSearch .card_inner__content .price {\r\n  margin-top: 40px;\r\n  color: white;\r\n  font-weight: 800;\r\n  font-size: 70px;\r\n  text-shadow: 0px 0px 10px rgba(0, 0, 0, 0.42);\r\n}\r\n.containerSearch .card_inner__content .text {\r\n  color: rgba(255, 255, 255, 0.6);\r\n  font-weight: 100;\r\n  margin-top: 20px;\r\n  font-size: 13px;\r\n  line-height: 16px;\r\n}\r\n.containerSearch .card_inner__content .title {\r\n  font-weight: 800;\r\n  text-transform: uppercase;\r\n  color: rgba(255, 255, 255, 0.64);\r\n  margin-top: 40px;\r\n  font-size: 25px;\r\n  letter-spacing: 1px;\r\n}\r\n.containerSearch .card_inner__cta {\r\n  position: absolute;\r\n  /* bottom: -80px; */\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 160px;\r\n}\r\n.containerSearch .card_inner__cta button {\r\n  padding: 16px;\r\n  box-shadow: 0px 0px 40px 4px #f76583,\r\n    0px 0px 0px 2px rgba(255, 255, 255, 0.19) inset;\r\n  width: 100%;\r\n  background: -webkit-linear-gradient(-90deg, #fe5e7d 0%, #e5375b 100%);\r\n  border: none;\r\n  font-family: \"Yanone Kaffeesatz\", sans-serif;\r\n  color: white;\r\n  outline: none;\r\n  font-size: 20px;\r\n  border-radius: 6px;\r\n  -webkit-transform: scale(0.94);\r\n  transform: scale(0.94);\r\n  cursor: pointer;\r\n  transition: box-shadow 0.3s, -webkit-transform 0.3s 0.1s;\r\n  transition: box-shadow 0.3s, transform 0.3s 0.1s;\r\n  transition: box-shadow 0.3s, transform 0.3s 0.1s, -webkit-transform 0.3s 0.1s;\r\n}\r\n.containerSearch .card_inner__cta button span {\r\n  text-shadow: 0px 4px 18px #ba3f57;\r\n}\r\n.containerSearch .card_inner__cta button:hover {\r\n  box-shadow: 0px 0px 60px 8px #f76583,\r\n    0px 0px 0px 2px rgba(255, 255, 255, 0.19) inset;\r\n}\r\n\r\n@-webkit-keyframes launch {\r\n  0% {\r\n    left: 1px;\r\n  }\r\n  25% {\r\n    top: -50px;\r\n    left: 1px;\r\n  }\r\n  50% {\r\n    left: -100px;\r\n  }\r\n  75% {\r\n    top: 100px;\r\n    -webkit-transform: rotate(40deg);\r\n    transform: rotate(40deg);\r\n  }\r\n  100% {\r\n    left: 1px;\r\n  }\r\n}\r\n\r\n@keyframes launch {\r\n  0% {\r\n    left: 1px;\r\n  }\r\n  25% {\r\n    top: -50px;\r\n    left: 1px;\r\n  }\r\n  50% {\r\n    left: -100px;\r\n  }\r\n  75% {\r\n    top: 100px;\r\n    -webkit-transform: rotate(40deg);\r\n    transform: rotate(40deg);\r\n  }\r\n  100% {\r\n    left: 1px;\r\n  }\r\n}\r\n@-webkit-keyframes fly {\r\n  0% {\r\n    left: 0px;\r\n  }\r\n  25% {\r\n    top: -50px;\r\n    left: 50px;\r\n  }\r\n  50% {\r\n    left: -130px;\r\n  }\r\n  75% {\r\n    top: 60px;\r\n  }\r\n  100% {\r\n    left: 0px;\r\n  }\r\n}\r\n@keyframes fly {\r\n  0% {\r\n    left: 0px;\r\n  }\r\n  25% {\r\n    top: -50px;\r\n    left: 50px;\r\n  }\r\n  50% {\r\n    left: -130px;\r\n  }\r\n  75% {\r\n    top: 60px;\r\n  }\r\n  100% {\r\n    left: 0px;\r\n  }\r\n}\r\n@-webkit-keyframes spin {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(720deg);\r\n    transform: rotate(720deg);\r\n  }\r\n}\r\n@keyframes spin {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(720deg);\r\n    transform: rotate(720deg);\r\n  }\r\n}\r\n@-webkit-keyframes intro {\r\n  0% {\r\n    -webkit-transform: scale(0);\r\n    transform: scale(0);\r\n  }\r\n  25% {\r\n    -webkit-transform: scale(1.06);\r\n    transform: scale(1.06);\r\n  }\r\n  50% {\r\n    -webkit-transform: scale(0.965);\r\n    transform: scale(0.965);\r\n  }\r\n  75% {\r\n    -webkit-transform: scale(1.02);\r\n    transform: scale(1.02);\r\n  }\r\n  100% {\r\n    -webkit-transform: scale(1);\r\n    transform: scale(1);\r\n  }\r\n}\r\n@keyframes intro {\r\n  0% {\r\n    -webkit-transform: scale(0);\r\n    transform: scale(0);\r\n  }\r\n  25% {\r\n    -webkit-transform: scale(1.06);\r\n    transform: scale(1.06);\r\n  }\r\n  50% {\r\n    -webkit-transform: scale(0.965);\r\n    transform: scale(0.965);\r\n  }\r\n  75% {\r\n    -webkit-transform: scale(1.02);\r\n    transform: scale(1.02);\r\n  }\r\n  100% {\r\n    -webkit-transform: scale(1);\r\n    transform: scale(1);\r\n  }\r\n}\r\n</style>\r\n\r\n<style>\r\n.play-button-container:hover {\r\n  cursor: pointer;\r\n  -webkit-transform: scale(0.96);\r\n  transform: scale(0.96);\r\n}\r\n\r\n.play-button-container:hover .play-button {\r\n  -webkit-transform: scale(1.16);\r\n  transform: scale(1.16);\r\n}\r\n\r\n.play-button-container {\r\n  width: 164px;\r\n  height: 164px;\r\n  border-radius: 100px;\r\n  -webkit-border-radius: 100px;\r\n  -moz-border-radius: 100px;\r\n  display: -webkit-box;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: center;\r\n  justify-content: center;\r\n  background: -webkit-linear-gradient(\r\n    330deg,\r\n    rgba(255, 255, 255, 0) 0%,\r\n    rgba(255, 255, 255, 0.2) 100%\r\n  );\r\n  background: linear-gradient(\r\n    120deg,\r\n    rgba(255, 255, 255, 0) 0%,\r\n    rgba(255, 255, 255, 0.2) 100%\r\n  );\r\n  box-shadow: 0 24px 72px 0 rgba(0, 0, 0, 0.5);\r\n  -webkit-transition: 300ms all cubic-bezier(0.4, 0, 0.2, 1);\r\n  transition: 300ms all cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.play-button-container .play-button {\r\n  z-index: 2;\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 100%;\r\n  background: #fff;\r\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.3);\r\n  display: -webkit-box;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: center;\r\n  justify-content: center;\r\n  -webkit-transition: 300ms all cubic-bezier(0.4, 0, 0.2, 1);\r\n  transition: 300ms all cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/app/page/device"}]}