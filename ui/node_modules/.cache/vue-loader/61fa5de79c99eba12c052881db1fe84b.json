{"remainingRequest":"/home/mrchoi87/farmosV2/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mrchoi87/farmosV2/ui/src/components/TimeLine.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"/home/mrchoi87/farmosV2/ui/src/components/TimeLine.vue","mtime":1607499348989},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mrchoi87/farmosV2/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.vis-item.vis-background {\n  opacity: 0.8;\n  z-index: 0;\n  background: linear-gradient(\n    10deg,\n    rgba(195, 255, 145, 0.2) 100px,\n    rgba(241, 205, 237, 0.3) 300px\n  );\n}\n.vis-item.vis-background.open {\n  z-index: 0;\n  background: linear-gradient(\n    0deg,\n    rgba(209, 209, 209, 0.3) 200px,\n    rgba(0, 0, 255, 0.2) 270px\n  );\n}\n.vis-item.vis-background.closed {\n  z-index: 0;\n  background: linear-gradient(\n    0deg,\n    rgba(0, 0, 255, 0.2) 200px,\n    rgba(209, 209, 209, 0.3) 270px\n  );\n}\n\n.vis-item.vis-background .vis-item-overflow {\n  overflow: visible;\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: #000;\n  opacity: 0.7;\n}\n\n.vis-item.vis-background:hover {\n  opacity: 1;\n  border: 4px dashed rgba(72, 52, 255, 0.445);\n}\n",{"version":3,"sources":["TimeLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"TimeLine.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <timeline\n      ref=\"timeline\"\n      :items=\"getTimeLine\"\n      :options=\"options\"\n      @current-time-tick=\"timelineEvent('currentTimeTick')\"\n    ></timeline>\n  </div>\n</template>\n\n<script>\nimport { Timeline } from 'vue2vis'\nexport default {\n  props: ['history', 'currentState', 'type', 'roll'],\n  watch: {\n    'history.date' (newValue, oldValue) {\n      this.$set(\n        this.options,\n        'min',\n        this.$date().format(this.history.date, 'YYYY-MM-DD 00:00:00')\n      )\n      this.$set(\n        this.options,\n        'max',\n        this.$date().format(this.history.date, 'YYYY-MM-DD 23:59:59')\n      )\n      this.$refs.timeline.zoomOut(1)\n    }\n  },\n  data () {\n    let min = this.$date().format(this.history.date, 'YYYY-MM-DD 00:00:00')\n    let max = this.$date().format(this.history.date, 'YYYY-MM-DD 23:59:59')\n    let now = this.$date().format(new Date(), 'YYYY-MM-DD HH:mm:ss')\n    return {\n      isRoll: true,\n      nowTime: now,\n      options: {\n        format: {\n          majorLabels: {\n            minute: 'YYYY-MM-DD'\n          }\n        },\n        min: min,\n        max: max,\n        zoomMin: 1000 * 60 * 10, // one day in milliseconds\n        zoomMax: 1000 * 60 * 60, // about three months in milliseconds\n        editable: false,\n        stack: true,\n        height: '405px'\n      },\n      timeline: {\n        items: [\n          {\n            start: new Date('2014-04-16 0:0:0'),\n            end: new Date('2014-04-16 4:0:0'),\n            type: 'background',\n            title: 'Normal text111',\n            content: '동작'\n          },\n          {\n            start: new Date('2014-04-16 4:0:0'),\n            end: new Date('2014-04-16 5:30:0'),\n            type: 'background',\n            className: 'negative'\n          },\n          {\n            start: new Date('2014-04-16 5:30:0'),\n            end: new Date('2014-04-16 12:30:0'),\n            type: 'background',\n            title: 'Normal text33',\n            content: '동작'\n          },\n          {\n            start: new Date('2014-04-16 12:30:0'),\n            end: new Date('2014-04-16 24:0:0'),\n            type: 'background',\n            className: 'negative'\n          },\n          {\n            content: '파라미터 관수 명령',\n            start: new Date('2014-04-16 13:10:0'),\n            title: '관수 명령'\n          },\n          {\n            start: new Date('2014-04-16 12:2:0'),\n            content: '1번 관수',\n            type: 'point',\n            title: '관수 명령'\n          },\n          {\n            start: new Date('2014-04-16 12:10:0'),\n            content: '2번 관수',\n            type: 'point',\n            title: '관수 명령'\n          },\n          {\n            start: new Date('2014-04-16 12:10:0'),\n            content: '3번 관수',\n            type: 'point',\n            title: '관수 명령'\n          }\n        ]\n      }\n    }\n  },\n  components: {\n    Timeline\n  },\n  computed: {\n    getTimeLine () {\n      let items = []\n      if (this.history) {\n        if (this.history.states.length === 0) {\n          if (\n            this.currentState.nvalue === 201 ||\n            this.currentState.nvalue === 202 ||\n            this.currentState.nvalue === 203 ||\n            this.currentState.nvalue === 301 ||\n            this.currentState.nvalue === 302 ||\n            this.currentState.nvalue === 303 ||\n            this.currentState.nvalue === 304 ||\n            this.currentState.nvalue === 305 ||\n            this.currentState.nvalue === 306 ||\n            this.currentState.nvalue === 401 ||\n            this.currentState.nvalue === 402 ||\n            this.currentState.nvalue === 403\n          ) {\n            let item = {\n              start: this.$date().format(\n                this.options.min,\n                'YYYY-MM-DD 00:00:00'\n              ),\n              end: this.$date().parse(this.nowTime),\n              type: 'background',\n              content: this.getStatusCodeContent(this.currentState.nvalue),\n              className: this.backgroundType(this.currentState.nvalue)\n            }\n            items.push(item)\n          }\n        } else {\n          for (let index = 0; index < this.history.states.length; index++) {\n            const element = this.history.states[index]\n            if (\n              element.nvalue === 201 ||\n              element.nvalue === 202 ||\n              element.nvalue === 203 ||\n              element.nvalue === 301 ||\n              element.nvalue === 302 ||\n              element.nvalue === 303 ||\n              element.nvalue === 304 ||\n              element.nvalue === 305 ||\n              element.nvalue === 306 ||\n              element.nvalue === 401 ||\n              element.nvalue === 402 ||\n              element.nvalue === 403\n            ) {\n              let item = {\n                start: this.$date().parse(\n                  this.$date().format(element.obs_time, 'YYYY-MM-DD HH:mm:ss')\n                ),\n                end:\n                  index < this.history.states.length - 1\n                    ? this.$date().parse(\n                      this.$date().format(\n                        this.history.states[index + 1].obs_time,\n                        'YYYY-MM-DD HH:mm:ss'\n                      )\n                    )\n                    : this.$date().parse(this.nowTime),\n                type: 'background',\n                content: this.getStatusCodeContent(element.nvalue),\n                className: this.backgroundType(element.nvalue)\n              }\n              items.push(item)\n            }\n          }\n        }\n\n        for (const request of this.history.requests) {\n          items.push({\n            start: this.$date().parse(\n              this.$date().format(request.senttime, 'YYYY-MM-DD HH:mm:ss')\n            ),\n            content: this.getCmdCodeContent(request.command),\n            title: this.getCmdCodeTitle(request)\n          })\n        }\n      }\n      return items\n    }\n  },\n  mounted () {},\n  methods: {\n    backgroundType (type) {\n      let value = ''\n      switch (type) {\n        case 201:\n        case 202:\n        case 203:\n        case 301:\n          value = 'open'\n          break\n        case 302:\n          value = 'closed'\n          break\n        default:\n          value = 'open'\n          break\n      }\n      return value\n    },\n    reDraw () {\n      this.$refs.timeline.redraw()\n    },\n    getStatusCodeContent (code) {\n      if (this.type === 'switch') {\n        switch (code) {\n          case 0:\n            return '중지'\n          case 201:\n            return '작동'\n          case 202:\n            return '시간작동'\n          case 203:\n            return '방향작동'\n          case 301:\n            return '열기'\n          case 302:\n            return '닫기'\n          case 303:\n            return '시간열기'\n          case 304:\n            return '시간닫기'\n          case 305:\n            return '위치이동'\n          case 306:\n            return '설정저장'\n          case 401:\n            return '준비중'\n          case 402:\n            return '양액 공급중'\n          case 403:\n            return '정지중'\n        }\n      }\n    },\n    getCmdCodeContent (code) {\n      if (this.type === 'switch') {\n        switch (code) {\n          case 0:\n            return '중지'\n          case 201:\n            return '작동'\n          case 202:\n            return '시간작동'\n          case 203:\n            return '방향작동'\n          case 301:\n            return '열기'\n          case 302:\n            return '닫기'\n          case 303:\n            return '시간열기'\n          case 304:\n            return '시간닫기'\n          case 305:\n            return '위치이동'\n          case 306:\n            return '설정저장'\n          case 401:\n            return '1회관수'\n          case 402:\n            return '파람관수'\n          case 403:\n            return '제어변경'\n        }\n      }\n    },\n    getCmdCodeTitle (request) {\n      if (this.type === 'switch') {\n        switch (request.command) {\n          case 0:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br>`\n            )\n          case 201:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br>`\n            )\n          case 202:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>``옵션<br>` +\n              `시간 : ${request.params['hold-time']}<br>`\n            )\n          case 203:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>``옵션<br>` +\n              `시간 : ${request.params['hold-time']}<br>` +\n              `방향 : ${request.params['ratio']}`\n            )\n          case 301:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br>`\n            )\n          case 302:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br>`\n            )\n          case 303:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>옵션<br>` +\n              `time : ${request.params['time']}<br>`\n            )\n          case 304:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>옵션<br>` +\n              `time : ${request.params['time']}<br>`\n            )\n          case 305:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>옵션<br>` +\n              `position : ${request.params['position']}<br>`\n            )\n          case 306:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>옵션<br>` +\n              `opentime : ${request.params['opentime']}<br>` +\n              `closetime : ${request.params['closetime']}`\n            )\n          case 401:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br>`\n            )\n          case 402:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>옵션<br>` +\n              `EC : ${request.params['EC']}<br>` +\n              `pH : ${request.params['pH']}<br>` +\n              `on-sec : ${request.params['on-sec']}<br>` +\n              `start-area : ${request.params['start-area']}<br>` +\n              `stop-area : ${request.params['stop-area']}`\n            )\n          case 403:\n            return (\n              `명령 시간 : ${this.$date().format(\n                request.senttime,\n                'HH:mm:ss'\n              )}<br>` +\n              `작동 시간 : ${this.$date().format(\n                request.exectime,\n                'HH:mm:ss'\n              )}<br><br>옵션<br>` +\n              `시간 : ${request.params['hold-time']}<br>` +\n              `방향 : ${request.params['ratio']}`\n            )\n        }\n      }\n    },\n    timelineEvent (eventName) {\n      if (this.nowTime.split(' ')[0] === this.options.min.split(' ')[0]) {\n        this.nowTime = this.$date().format(new Date(), 'YYYY-MM-DD HH:mm:ss')\n        if (this.roll) {\n          this.$refs.timeline.moveTo(this.nowTime)\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style src=\"vue2vis/dist/vue2vis.css\">\n</style>\n\n<style>\n.vis-item.vis-background {\n  opacity: 0.8;\n  z-index: 0;\n  background: linear-gradient(\n    10deg,\n    rgba(195, 255, 145, 0.2) 100px,\n    rgba(241, 205, 237, 0.3) 300px\n  );\n}\n.vis-item.vis-background.open {\n  z-index: 0;\n  background: linear-gradient(\n    0deg,\n    rgba(209, 209, 209, 0.3) 200px,\n    rgba(0, 0, 255, 0.2) 270px\n  );\n}\n.vis-item.vis-background.closed {\n  z-index: 0;\n  background: linear-gradient(\n    0deg,\n    rgba(0, 0, 255, 0.2) 200px,\n    rgba(209, 209, 209, 0.3) 270px\n  );\n}\n\n.vis-item.vis-background .vis-item-overflow {\n  overflow: visible;\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: #000;\n  opacity: 0.7;\n}\n\n.vis-item.vis-background:hover {\n  opacity: 1;\n  border: 4px dashed rgba(72, 52, 255, 0.445);\n}\n</style>\n"]}]}